
# #######################################################################################
# AUTOGENERATED HYPRLAND CONFIG.
# PLEASE USE THE CONFIG PROVIDED IN THE GIT REPO /examples/hyprland.conf AND EDIT IT,
# OR EDIT THIS ONE ACCORDING TO THE WIKI INSTRUCTIONS.
# #######################################################################################

# This is an example Hyprland config file.
# Refer to the wiki for more information.
# https://wiki.hyprland.org/Configuring/

# Please note not all available settings / options are set here.
# For a full list, see the wiki

# You can split this configuration into multiple files
# Create your files separately and then link them to this file like this:
# source = ~/.config/hypr/myColors.conf


################
### MONITORS ###
################

# See https://wiki.hyprland.org/Configuring/Monitors/
monitor=,3840x2560,auto,1


###################
### MY PROGRAMS ###
###################

# See https://wiki.hyprland.org/Configuring/Keywords/

# Set programs that you use
$terminal = kitty
$fileManager = pcmanfm-qt
$browser = firefox
$menu = ~/.config/rofi/bin/launcher.sh

#################
### AUTOSTART ###
#################

# Autostart necessary processes (like notifications daemons, status bars, etc.)
# execute your favorite apps at launch like this:

# exec-once = $terminal
# exec-once = nm-applet &
exec-once = wl-paste --type text --watch cliphist store
exec-once = wl-paste --type image --watch cliphist store
exec-once = systemctl --user start hyprpolkitagent 
exec-once = hyprpaper
exec-once = fcitx5
exec-once = aria2c
exec-once = hypridle
exec-once = mako
exec-once = mpd-nitification
exec-once = hyprpm reload -n
exec-once = waybar -c ~/.config/hypr/waybar/config.jsonc -s ~/.config/hypr/waybar/style.css 

#############################
### ENVIRONMENT VARIABLES ###
#############################

# See https://wiki.hyprland.org/Configuring/Environment-variables/

env = GDK_SCALE, 1
env = XCURSOR_THEME,Layan-cursors
env = XCURSOR_SIZE,24
env = HYPRCURSOR_THEME,Layan-cursors
env = HYPRCURSOR_SIZE,24
########## Input method ########## 
env = QT_IM_MODULE, fcitx
env = XMODIFIERS, @im=fcitx
env = SDL_IM_MODULE, fcitx
env = GLFW_IM_MODULE, ibus
env = INPUT_METHOD, fcitx
############# Themes #############
env = QT_QPA_PLATFORMTHEME, qt6ct
env = XDG_CURRENT_DESKTOP, Hyprland
############# ScreenshotDir #############
env = HYPRSHOT_DIR, /home/mackelguo/Pictures/Screenshots/


#####################
### LOOK AND FEEL ###
#####################

# Refer to https://wiki.hyprland.org/Configuring/Variables/

# https://wiki.hyprland.org/Configuring/Variables/#general
general {
    gaps_in = 5 
    gaps_out = 20

    border_size = 5

    # https://wiki.hyprland.org/Configuring/Variables/#variable-types for info about colors
    col.active_border = rgba(81A1C1ee) rgba(486090ee) 45deg
    col.inactive_border = rgba(2E3440ee)

    # Set to true enable resizing windows by clicking and dragging on borders and gaps
    resize_on_border = false

    # Please see https://wiki.hyprland.org/Configuring/Tearing/ before you turn this on
    allow_tearing = false

    layout = dwindle
}

# https://wiki.hyprland.org/Configuring/Variables/#decoration
decoration {
    rounding = 0
    rounding_power = 2

    # Change transparency of focused and unfocused windows
    active_opacity = 1.0
    inactive_opacity = 1.0

    shadow {
        enabled = true
        range = 4
        render_power = 3
        color = rgba(1a1a1aee)
    }

    # https://wiki.hyprland.org/Configuring/Variables/#blur
    blur {
        enabled = true
        size = 15
        passes = 3
        vibrancy = 0.1696
				popups = true
				noise = 0.3
				ignore_opacity = true
    }
    dim_inactive = true
    dim_strength = 0.2
    dim_special = 0
}

# https://wiki.hyprland.org/Configuring/Variables/#animations
animations {
    enabled = yes

    # Default animations, see https://wiki.hyprland.org/Configuring/Animations/ for more

    bezier = easeOutQuint,0.23,1,0.32,1
    bezier = easeInOutCubic,0.65,0.05,0.36,1
    bezier = linear,0,0,1,1
    bezier = almostLinear,0.5,0.5,0.75,1.0
    bezier = quick,0.15,0,0.1,1

    animation = global, 1, 10, default
    animation = border, 1, 5.39, easeOutQuint
    animation = windows, 1, 4.79, easeOutQuint
    animation = windowsIn, 1, 4.1, easeOutQuint, popin 87%
    animation = windowsOut, 1, 1.49, linear, popin 87%
    animation = fadeIn, 1, 1.73, almostLinear
    animation = fadeOut, 1, 1.46, almostLinear
    animation = fade, 1, 3.03, quick
    animation = layers, 1, 3.81, easeOutQuint
    animation = layersIn, 1, 4, easeOutQuint, fade
    animation = layersOut, 1, 1.5, linear, fade
    animation = fadeLayersIn, 1, 1.79, almostLinear
    animation = fadeLayersOut, 1, 1.39, almostLinear
    animation = workspaces, 1, 1.94, almostLinear, fade
    animation = workspacesIn, 1, 1.21, almostLinear, fade
    animation = workspacesOut, 1, 1.94, almostLinear, fade
}

# Ref https://wiki.hyprland.org/Configuring/Workspace-Rules/
# "Smart gaps" / "No gaps when only"
# uncomment all if you wish to use that.
 workspace = w[tv1], gapsout:0, gapsin:0
 workspace = f[1], gapsout:0, gapsin:0
 windowrulev2 = bordersize 0, floating:0, onworkspace:w[tv1]
 windowrulev2 = rounding 0, floating:0, onworkspace:w[tv1]
 windowrulev2 = bordersize 0, floating:0, onworkspace:f[1]
 windowrulev2 = rounding 0, floating:0, onworkspace:f[1]

# See https://wiki.hyprland.org/Configuring/Dwindle-Layout/ for more
dwindle {
    pseudotile = true # Master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
    preserve_split = true # You probably want this
}

# See https://wiki.hyprland.org/Configuring/Master-Layout/ for more
master {
    new_status = master
}

# https://wiki.hyprland.org/Configuring/Variables/#misc
misc {
    force_default_wallpaper = -1 # Set to 0 or 1 to disable the anime mascot wallpapers
    disable_hyprland_logo = false # If true disables the random hyprland logo / anime girl background. :(
}

##############
### PLUGIN ###
##############
plugin {
    hyprexpo {
        columns = 3
        gap_size = 5
        bg_col = rgb(201F24)
        workspace_method = center current # [center/first] [workspace] e.g. first 1 or center m+1

        gesture_distance = 300 # how far is the "max" for the gesture
    }
}
#############
### INPUT ###
#############

# https://wiki.hyprland.org/Configuring/Variables/#input
input {
    kb_layout = us
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =

    follow_mouse = 1

    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.

    touchpad {
        natural_scroll = false
    }
}

# Example per-device config
# See https://wiki.hyprland.org/Configuring/Keywords/#per-device-input-configs for more
device {
    name = epic-mouse-v1
    sensitivity = -0.5
}

###################
### KEYBINDINGS ###
###################

# See https://wiki.hyprland.org/Configuring/Keywords/
$mainMod = SUPER # Sets "Windows" key as main modifier

#System keybind
bind = $mainMod,      C,             killactive,
bind = $mainMod SHIFT,Q,             exit
bind = $mainMod,     R,              exec, $menu
bind = $mainMod,     P,              pseudo, # dwindle
bind = $mainMod,     J,              togglesplit, # dwindle

#########################################
### OPEN APPLICATIONS ###################
#########################################

#Application
bind = $mainMod SHIFT, F,            exec, $fileManager
bind = $mainMod SHIFT, W,            exec, $browser
bind = $mainMod SHIFT, P,            exec, hyprpicker -a
bind = $mainMod SHIFT, E,            exec, code 
##systool
bind = $mainMod,       RETURN,       exec, $terminal
bind = $mainMod,       N,            exec, networkmanager_dmenu
bind = $mainMod,       L,            exec, hyprlock
#Terminal program
bind = $CTRL    ALT,   N,            exec, kitty -e nvim
bind = $CTRL    ALT,   V,            exec, kitty -e vim
bind = $CTRL    ALT,   R,            exec, kitty -e ranger
bind = $CTRL    ALT,   Y,            exec, kitty -e yazi
bind = $CTRL    ALT,   B,            exec, kitty -e btop
bind = $CTRL    ALT,   H,            exec, kitty -e htop
bind = $CTRL    ALT,   Q,            exec, qutebrowser
bind = $CTRL    ALT,   M,            exec, kitty -e musicfox
bind = $CTRL    ALT,   G,            exec, foot -e rmpc

#screenshot
bind = $mainMod,       Print,        exec, ~/.config/hypr/scripts/screenshot.sh win
bind =         ,       Print,        exec, ~/.config/hypr/scripts/screenshot.sh now
bind = ALT     ,       Print,        exec, ~/.config/hypr/scripts/screenshot.sh region

#ROFI KEYBINDINGS
bind = ALT    ,        SPACE ,       exec, $menu
bind = $mainMod,       M,            exec, ~/.config/rofi/bin/mpd.sh
bind = $mainMod,       X,            exec, ~/.config/rofi/bin/powermenu.sh
bind = $mainMod,       G,            exec, cliphist list | rofi -dmenu -theme ~/.config/rofi/theme/greenclip.rasi | cliphist decode | wl-copy
bind = $mainMod,       D,            exec, ~/.config/rofi/bin/screenshot.sh

#########################################
### MOVE AND RESIZE WINDOWS #############
#########################################

# Move focus with mainMod + arrow keys
bind = $mainMod CTRL,  left,         movefocus, l
bind = $mainMod CTRL,  right,        movefocus, r
bind = $mainMod CTRL,  up,           movefocus, u
bind = $mainMod CTRL,  down,         movefocus, d

#Move windoww with MainMod Alt + arrow keys
bind = $mainMod SHIFT, left,         movewindow, l
bind = $mainMod SHIFT, right,        movewindow, r
bind = $mainMod SHIFT, up,           movewindow, u
bind = $mainMod SHIFT, down,         movewindow, d

#Move floating windows
bind = $mainMod,       right,        moveactive,  40 0
bind = $mainMod,       left,         moveactive,  -40 0
bind = $mainMod,       up,           moveactive,  0 -40
bind = $mainMod,       down,         moveactive,  0 40

# Resizing windows
binde = $mainMod ALT,  right,        resizeactive, 40 0
binde = $mainMod ALT,  left,         resizeactive, -40 0
binde = $mainMod ALT,  up,           resizeactive, 0 -40
binde = $mainMod ALT,  down,         resizeactive, 0 40

#focus master window
bind = ALT,            TAB,          cyclenext
bind = ALT,            TAB,          bringactivetotop

#oveview
bind = SUPER,          TAB,          hyprexpo:expo, toggle

#fullscreen
bind = $mainMod,       F,            fullscreen
#floating
bind = $mainMod,       SPACE,        togglefloating,

#########################################
### SWITCHING BETWEEN WORKSPACES #######
#########################################

# Switch workspaces with mainMod + [0-9]
bind = $mainMod,       1,            workspace, 1
bind = $mainMod,       2,            workspace, 2
bind = $mainMod,       3,            workspace, 3
bind = $mainMod,       4,            workspace, 4
bind = $mainMod,       5,            workspace, 5
bind = $mainMod,       6,            workspace, 6
bind = $mainMod,       7,            workspace, 7
bind = $mainMod,       8,            workspace, 8
bind = $mainMod,       9,            workspace, 9
bind = $mainMod,       0,            workspace, 10

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, 1,            movetoworkspace, 1
bind = $mainMod SHIFT, 2,            movetoworkspace, 2
bind = $mainMod SHIFT, 3,            movetoworkspace, 3
bind = $mainMod SHIFT, 4,            movetoworkspace, 4
bind = $mainMod SHIFT, 5,            movetoworkspace, 5
bind = $mainMod SHIFT, 6,            movetoworkspace, 6
bind = $mainMod SHIFT, 7,            movetoworkspace, 7
bind = $mainMod SHIFT, 8,            movetoworkspace, 8
bind = $mainMod SHIFT, 9,            movetoworkspace, 9
bind = $mainMod SHIFT, 0,            movetoworkspace, 10

# Example special workspace (scratchpad)
bind = $mainMod,       S,            togglespecialworkspace, magic
bind = $mainMod SHIFT, S,            movetoworkspace, special:magic

# Scroll through existing workspaces with mainMod + scroll
bind = $mainMod,       mouse_down,   workspace, e+1
bind = $mainMod,       mouse_up,     workspace, e-1

# Move throungh existing workspaces with keybind
bind = $mainMod SHIFT, H,            workspace, e+1
bind = $mainMod SHIFT, L,            workspace, e-1

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod,      mouse:272,    movewindow
bindm = $mainMod,      mouse:273,    resizewindow

#########################################
### LAPTOP MULTIMEDIA KEYBINDINGS #######
#########################################

# Laptop multimedia keys for volume and LCD brightness
bindel = ,XF86AudioRaiseVolume,      exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bindel = ,XF86AudioLowerVolume,      exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindel = ,XF86AudioMute,             exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = ,XF86AudioMicMute,          exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bind = , XF86AudioPause,             exec, playerctl play-pause
bind = , XF86AudioNext,              exec, playerctl next
bind = , XF86AudioPrev,              exec, playerctl previous

##############################
### WINDOWS AND WORKSPACES ###
##############################

# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more
# See https://wiki.hyprland.org/Configuring/Workspace-Rules/ for workspace rules

#floating
windowrule = float,                  class:kitty
windowrule = float,                  class:foot
windowrule = float,                  class:org.mozilla.Thunderbird
windowrule = float,                  class:org.pwmt.zathura,title:org.pwmt.zathura
windowrule = float,                  class:mpv,title:mpv
windowrule = float,                  class:pcmanfm-qt
windowrule = float,                  class:mpc-qt,title:mpc-qt
windowrule = float,                  class:lxqt-archiver
windowrule = float,                  class:org.telegram.desktop
windowrule = float,                  class:gparted,title:gparted
windowrule = float,                  class:org.pulseaudio.pavucontrol
windowrule = float,                  class:lollypop,title:lollypop
windowrule = float,                  title:Kvantum Manager
windowrule = float,                  class:org.kde.kwave
windowrule = float,                  class:org.fcitx.fcitx5-config-qt
windowrule = float,  opacity 0.8,    class:YACReader

#opacity
windowrule = opacity 0.9,            class:kitty
windowrule = opacity 0.7,            class:discord
windowrule = opacity 0.75,           class:org.pwmt.zathura,title:org.pwmt.zathura
windowrule = opacity 0.6,            class:pcmanfm-qt
windowrule = opacity 0.75,           class:org.telegram.desktop
windowrule = opacity 0.7,            class:rofi
windowrule = opacity 0.8,            class:code,title:code
windowrule = opacity 0.5,            class:spotify
windowrule = opacity 0.8,            class:firefox
windowrule = opacity 0.8,            class:qutebrowser
windowrule = opacity 0.9,            class:org.qbittorrent.qBittorrent

#blur
#blur and shadow for rofi
layerrule = blur, rofi

#waylyrics
windowrule = pin,                    title:^(Waylyrics)$, class:^(Waylyrics)$
windowrule = float,                  class:Waylyrics,title:Waylyrics
windowrule = noblur,                 title:^(Waylyrics)$
windowrule = noborder,               title:^(Waylyrics)$
windowrule = noshadow,               title:^(Waylyrics)$
windowrule = fullscreenstate -700 0, title:^(Waylyrics)$
windowrule = animation fade,         title:^(Waylyrics)$
# Ignore maximize requests from apps. You'll probably like this.
windowrule = suppressevent maximize, class:.*

# Fix some dragging issues with XWayland
windowrule = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0
xwayland {
   force_zero_scaling = true
}

